The ``in/`` directory contains the input data to be analysed. On a
could infrastructure this folder is already available on a dedicated
image so it should NOT be copied over. (on Hobbes the image is ami-0000002a).

On a Grid infrastructure we will probably use RTEs to make the ``in/``
folder available without having to transfer it.

Note: if gc_gps will *not* be executed against a cloud or a grid infrastructure 
where the 'in' folder has been already pre-deployed ('in' folder contains the 
reference input data), you will need to specify the ``-i`` option to pass manually
the location of the input data.

The ``src/`` directory contains the R scripts to be executed:
 - processit.R is the driver script: sets the path and calls the main script
 - gps.utils.R is the main script

.. Main developers: "Vanessa Wirz" <vanessa.wirz@geo.uzh.ch> and
Stephan Gruber <stephan.gruber@geo.uzh.ch>

Testing ``gc_gps``
=====================

    gc_gps command_file R_source_folder

The ``gc_gps`` takes as input argument a command file containing one valid
R command invokation per line.

Example:
$ cat small.txt
R CMD BATCH --no-save --no-restore '--args pos=5 realizations=7 snr=1
mast.h=0.5 sd.mast.o=0' ./src/processit.R ./out/screen.out
R CMD BATCH --no-save --no-restore '--args pos=7 realizations=7 snr=1
mast.h=0.5 sd.mast.o=0' ./src/processit.R ./out/screen.out
R CMD BATCH --no-save --no-restore '--args pos=14 realizations=7 snr=1
mast.h=0.5 sd.mast.o=0' ./src/processit.R ./out/screen.out
R CMD BATCH --no-save --no-restore '--args pos=15 realizations=7 snr=1
mast.h=0.5 sd.mast.o=0' ./src/processit.R ./out/screen.out

Three example command files are provided here:
 - small.txt containing only 4 R commands invokations
 - medium.txt containing 10 R commands invokations
 - large.txt containing 50 R commands invokations

For each line recorded, ``gc_gps`` will create an Application and
execute it in a SessionBasedScript

each Application produces, as output, a file named after the input
arguments combinations with the following pattern:

"pos-[pos]_rates_MC[realizations]_snr[snr]_h[mas.h]d_o[sd.mast.o].Rdata"

The file is created in the Application's ``out`` folder

All output files created in a single ``gc_gps`` needs to be
copies/moved to a ``destination folder``

Invocation of ``gc_gps`` follows the usual session-based script
conventions::

    gc_gps.py -s TEST_SESSION_NAME -C 120 -vvv ./small.txt ./src -o ./out

When all the jobs are done, the ``out`` *directory* will contain
all the output files generated by each individual Application.

``out/.computation`` will contain the individual Application's
subfolders with logs information (``gc_gps.log``)

